<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>AllergoZymeProtect — Label & Traçabilité (Allergies, Intolérances, Diabète)</title>
  <meta name="description" content="Label numérique + QR de traçabilité pour allergies, intolérances et besoins diabétiques. Consentement client en 10 secondes, preuves horodatées, visibilité fiable." />
  <meta name="theme-color" content="#c9a227" />
  <meta name="color-scheme" content="light" />
  <link rel="icon" type="image/png" href="assets/logo2.png" />

  <style>
    :root{
      --gold:#c9a227; --gold-strong:#b68f1e; --gold-soft:#e8d598; --white:#ffffff; --ink:#0f0f11;
      --ga10:rgba(201,162,39,.10); --ga18:rgba(201,162,39,.18); --ga25:rgba(201,162,39,.25); --ga45:rgba(201,162,39,.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:var(--white); color:#2a2a2d; line-height:1.55;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:var(--gold-strong); text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%; height:auto}

    .container{max-width:1200px; margin:0 auto; padding:24px}

    /* Header */
    header{position:sticky; top:0; z-index:40; backdrop-filter:blur(8px); background:rgba(255,255,255,.78); border-bottom:1px solid var(--ga25)}
    .nav{display:flex; align-items:center; justify-content:space-between; padding:10px 0}
    .brand{display:flex; align-items:center; gap:12px}
    .brand img{width:46px; height:46px; object-fit:contain; filter:drop-shadow(0 8px 22px var(--ga18))}
    .brand h1{margin:0; font-size:1.08rem; letter-spacing:.14em; font-weight:800; text-transform:uppercase; color:#19191c}

    .nav-actions{display:flex; gap:10px; align-items:center}
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:11px 18px; border-radius:14px; border:1px solid #1f1f23; color:#111; background:var(--white);
         transition:transform .2s, box-shadow .2s, background .2s}
    .btn:hover{transform:translateY(-1px); box-shadow:0 14px 34px var(--ga25)}
    .btn-primary{background:#111; color:#fff; border-color:#111}
    .btn-primary:hover{background:#0a0a0c}
    .btn-pill{border-radius:999px; padding:12px 22px}
    .btn-ghost{border-color:var(--ga45); color:#111}

    /* Hero */
    .hero{padding:70px 0 28px; text-align:center}
    .hero h2{
      margin:6px auto 8px; max-width:980px;
      font-size:clamp(1.8rem,4vw,3rem); letter-spacing:.01em; line-height:1.15;
      color:#111; text-shadow:0 0 1px rgba(0,0,0,.06), 0 0 22px var(--ga10);
    }
    .hero p{margin:0 auto; max-width:900px; opacity:.95}

    .goldline{height:3px; border-radius:999px; margin:18px auto; width:min(640px,72%);
      background:linear-gradient(90deg, rgba(201,162,39,0), var(--gold), rgba(201,162,39,0));
      background-size:200% 100%; animation:shimmer 6s linear infinite}
    @keyframes shimmer{0%{background-position:-200% 50%}100%{background-position:200% 50%}}

    .hero-cta{margin-top:26px; display:flex; gap:12px; align-items:center; justify-content:center; flex-wrap:wrap}
    .hero-badges{margin-top:16px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    .badge{font-size:.78rem; border:1px solid var(--ga45); padding:8px 12px; border-radius:999px; background:var(--white); color:#202022}

    /* Cards */
    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:18px; margin-top:22px}
    @media (max-width:1000px){.grid{grid-template-columns:1fr}}
    .card{background:var(--white); border:1px solid var(--ga25); border-radius:18px; padding:22px; position:relative; overflow:hidden}
    .card::after{content:""; position:absolute; inset:-1px; border-radius:18px; background:radial-gradient(800px 140px at 20% -10%, var(--ga18), transparent 40%); pointer-events:none}
    .icon{width:44px; height:44px; border:1px solid var(--ga45); border-radius:14px; display:inline-grid; place-items:center; margin-bottom:12px}
    .icon svg{width:22px; height:22px; fill:#111}
    .card h3{margin:6px 0 8px; font-size:1.08rem; color:#111}
    .muted{opacity:.95}

    .steps{display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin-top:8px}
    @media (max-width:1000px){.steps{grid-template-columns:1fr}}
    .step{padding:18px; background:var(--white); border:1px dashed var(--ga45); border-radius:16px}
    .step .num{font-weight:900; letter-spacing:.08em; color:#111}

    .mock{display:grid; grid-template-columns:1.1fr .9fr; gap:24px; align-items:center; margin-top:22px}
    @media (max-width:1100px){.mock{grid-template-columns:1fr}}
    .panel{background:var(--white); border:1px solid var(--ga25); border-radius:18px; padding:20px}
    .qrbox{border:1px dashed var(--ga45); padding:28px; border-radius:16px; display:grid; place-items:center; min-height:240px}
    .qr{width:168px; height:168px; background:conic-gradient(from 45deg, var(--ga18), rgba(0,0,0,.08)); border-radius:8px}

    .band{margin:22px 0 0; display:flex; flex-wrap:wrap; gap:16px; justify-content:center}
    .counter{min-width:240px; text-align:center; border:1px solid var(--ga25); border-radius:16px; padding:14px 18px; background:#fff}
    .counter .big{font-size:2rem; font-weight:900; color:#111}
    .counter .label{opacity:.9}

    .row{display:grid; grid-template-columns:1fr 1fr; gap:22px; align-items:center}
    @media (max-width:1000px){.row{grid-template-columns:1fr}}

    .pricing{display:grid; grid-template-columns:repeat(3,1fr); gap:20px; margin-top:24px}
    @media (max-width:1000px){.pricing{grid-template-columns:1fr}}
    .price{padding:22px; border:1px solid var(--ga45); border-radius:18px; position:relative; overflow:hidden}
    .price .tag{position:absolute; top:14px; right:14px; font-size:.72rem; padding:6px 10px; border:1px solid var(--ga45); border-radius:999px; background:#fff}
    .price h4{margin:8px 0 2px; font-size:1.08rem; color:#111}
    .money{font-size:2.2rem; font-weight:900; letter-spacing:.02em; color:#111}

    .quotes{display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin-top:18px}
    @media (max-width:1000px){.quotes{grid-template-columns:1fr}}
    .quote{border-left:3px solid #111; padding:14px 16px; background:linear-gradient(180deg, var(--ga10), transparent); border-radius:12px}

    details{border:1px solid var(--ga45); border-radius:14px; padding:14px 16px}
    details[open]{box-shadow:0 12px 32px var(--ga18)}
    summary{cursor:pointer; font-weight:700; list-style:none}
    summary::-webkit-details-marker{display:none}

    footer{margin-top:40px; border-top:1px solid var(--ga25)}
    .foot{display:flex; flex-wrap:wrap; gap:16px; align-items:center; justify-content:space-between; padding:22px 0; font-size:.95rem}
    .tiny{font-size:.84rem; opacity:.9}
  </style>
</head>
<body>
  <header role="banner">
    <div class="container nav">
      <div class="brand">
        <img src="assets/logo.png" alt="AllergoZymeProtect — logo" loading="eager" decoding="async" />
        <h1>AllergoZymeProtect</h1>
      </div>
      <nav class="nav-actions" aria-label="Navigation principale">
        <a class="btn btn-ghost" href="identification.html" data-supabase-action="login" rel="nofollow">Se connecter</a>
        <a class="btn btn-primary" href="inscription.html" data-supabase-action="signup" rel="nofollow">S’inscrire</a>
      </nav>
    </div>
  </header>

  <main id="contenu" role="main">

    <section class="hero container">

      <!-- Titre -->
      <h2>
        Le label numérique qui protège votre établissement —  
        <br/>spécial <strong>allergies</strong>, <strong>intolérances</strong> & <strong>besoins diabétiques</strong>.
      </h2>
      <p>
        QR code (général ou par table), consentement en <strong>10&nbsp;secondes</strong>, 
        <strong>preuves horodatées</strong> et tableau de bord clair. Une tranquillité d’esprit pragmatique pour l’équipe et les clients.
      </p>

      <div class="goldline" aria-hidden="true"></div>

      <div class="hero-cta">
        <a class="btn btn-primary btn-pill" href="inscription.html" data-supabase-action="signup">Adhérer — 20€ / an</a>
        <a class="btn btn-pill" href="#fonctionnement">Voir comment ça marche</a>
      </div>

      <div class="hero-badges" aria-label="Points forts">
        <span class="badge">Preuve horodatée</span>
        <span class="badge">QR par table disponible</span>
        <span class="badge">Allergies • Intolérances • Diabète</span>
      </div>

      <!-- COMPTEURS -->
      <div class="band" aria-live="polite">
        <div class="counter">
          <div class="big" id="signatureCount">18 174</div>
          <div class="label">Signatures validées</div>
        </div>
        <div class="counter">
          <div class="big" id="restaurantCount">729</div>
          <div class="label">Restaurants labellisés</div>
        </div>
        <div class="counter">
          <div class="big" id="passportCount">4 883</div>
          <div class="label">Compte Passport</div>
        </div>
      </div>
    </section>

    <!-- Atouts -->
    <section class="container" id="atouts" aria-labelledby="atouts-titre">
      <h2 id="atouts-titre" class="visually-hidden">Atouts</h2>
      <div class="grid">
        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" role="img" aria-label="Bouclier"><path d="M12 2l7 4v5c0 5-3.5 9-7 11-3.5-2-7-6-7-11V6l7-4z"/></svg>
          </div>
          <h3>Preuves qui rassurent</h3>
          <p class="muted">Chaque validation crée une trace datée : information claire, consentement, et contexte. De quoi montrer votre sérieux en cas de litige.</p>
        </article>
        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" role="img" aria-label="QR"><path d="M3 3h8v8H3V3zm2 2v4h4V5H5zm6 0h2v2h-2V5zm4 0h6v6h-6V5zm2 2v2h2V7h-2zM3 13h6v2H3v-2zm8 0h2v2h-2v-2zm4 0h6v8h-8v-6h2v4h4v-4h-4v-2zm-4 6h2v2h-2v-2z"/></svg>
          </div>
          <h3>QR général ou par table</h3>
          <p class="muted">Traçabilité fine si besoin : un QR par table, ou un seul QR pour tout l’établissement. Sobre, lisible, pro.</p>
        </article>
        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" role="img" aria-label="Tableau de bord"><path d="M3 3h18v6H3V3zm0 8h8v10H3V11zm10 8h8v2h-8v-2zm0-8h8v6h-8v-6z"/></svg>
          </div>
          <h3>Tableau de bord clair</h3>
          <p class="muted">Recherche, filtres, export CSV, accès sécurisé. Tout ce qu’il faut, sans superflu.</p>
        </article>
      </div>
    </section>

    <!-- Comment ça marche -->
    <section class="container" id="fonctionnement" style="margin-top:24px" aria-labelledby="fonctionnement-titre">
      <h2 id="fonctionnement-titre" style="text-align:center; color:#111">Comment ça marche ?</h2>
      <p style="text-align:center; max-width:880px; margin:6px auto 18px">Un parcours direct : vos équipes affichent, vos clients scannent, vous suivez en temps réel.</p>

      <div class="steps" role="list">
        <div class="step" role="listitem">
          <div class="num">01</div>
          <strong>S’inscrire</strong>
          <p style="margin:6px 0 0">Créez votre compte en quelques secondes, accédez au tableau de bord.</p>
        </div>
        <div class="step" role="listitem">
          <div class="num">02</div>
          <strong>Générer le QR</strong>
          <p style="margin:6px 0 0">Un QR général ou un QR par table. Téléchargez, imprimez, affichez.</p>
        </div>
        <div class="step" role="listitem">
          <div class="num">03</div>
          <strong>Collecter & tracer</strong>
          <p style="margin:6px 0 0">Le client lit, coche “J’accepte”, valide. Vos preuves sont horodatées automatiquement.</p>
        </div>
      </div>

      <div class="mock" aria-label="Exemple QR & tableau de bord">
        <div class="panel">
          <h3 style="color:#111">Votre QR prêt à imprimer</h3>
          <div class="qrbox" aria-label="Démonstration visuelle d’un QR code">
            <div class="qr" aria-hidden="true"></div>
          </div>
          <p class="tiny">Astuce : comptoir, menus, tables — multipliez les points d’accès pour fluidifier.</p>
        </div>
        <div class="panel">
          <h3 style="color:#111">Tableau de bord</h3>
          <ul>
            <li>Recherche par nom / table / date</li>
            <li>Export CSV des consentements</li>
            <li>Filtres rapides & compteur total</li>
            <li>Accès sécurisé</li>
          </ul>
          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
            <a class="btn btn-primary" href="inscription.html" data-supabase-action="signup">Créer mon compte</a>
            <a class="btn" href="identification.html" data-supabase-action="login">J’ai déjà un compte</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Tarifs -->
    <section class="container" id="tarifs" style="margin-top:24px" aria-labelledby="tarifs-titre">
      <h2 id="tarifs-titre" style="text-align:center; color:#111">Un prix unique. Une vraie sérénité.</h2>
      <div class="pricing">
        <div class="price">
          <span class="tag">Recommandé</span>
          <h4>Adhésion annuelle</h4>
          <div class="money">20€ / an</div>
          <ul>
            <li>QR code officiel (général & par table)</li>
            <li>Collecte illimitée de consentements</li>
            <li>Export CSV & historique</li>
            <li>Mises à jour incluses</li>
          </ul>
          <div style="margin-top:12px">
            <a class="btn btn-primary" href="inscription.html" data-supabase-action="signup">Rejoindre maintenant</a>
          </div>
        </div>
        <div class="price">
          <h4>Pour qui ?</h4>
          <p>Restaurants, snacks, traiteurs, food-trucks, boulangeries, coffee shops, bars à tapas… Toute activité de service alimentaire.</p>
          <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:8px">
            <span class="badge">Sur place</span><span class="badge">À emporter</span><span class="badge">Livraison</span>
          </div>
        </div>
        <div class="price">
          <h4>Pourquoi maintenant ?</h4>
          <p>Montrez que vous prenez au sérieux allergies, intolérances et besoins diabétiques — et protégez votre équipe sans complexité.</p>
        </div>
      </div>
    </section>

    <!-- Témoignages -->
    <section class="container" style="margin-top:24px" aria-labelledby="temoignages-titre">
      <h2 id="temoignages-titre" style="text-align:center; color:#111">Ils en parlent</h2>
      <div class="quotes">
        <blockquote class="quote">« Simple et clair. On scanne, on valide, on est couverts. » — <em>Julien, bistro moderne</em></blockquote>
        <blockquote class="quote">« Lisible pour les allergiques, utile pour l’équipe. » — <em>Sarah, coffee shop</em></blockquote>
        <blockquote class="quote">« L’export des signatures est net en cas de litige. » — <em>Camille, traiteur</em></blockquote>
      </div>
    </section>

    <!-- FAQ -->
    <section class="container" id="faq" style="margin-top:24px; max-width:1000px" aria-labelledby="faq-titre">
      <h2 id="faq-titre" style="text-align:center; color:#111">Questions fréquentes</h2>
      <details style="margin:10px 0">
        <summary>Spécifique allergies, intolérances et consignes diabétiques ?</summary>
        Oui. Le texte, les cases et les preuves sont centrés sur ces besoins — sans détour.
      </details>
      <details style="margin:10px 0">
        <summary>Le client doit-il valider à chaque service ?</summary>
        Recommandé. Chaque validation crée une preuve horodatée exploitable.
      </details>
      <details style="margin:10px 0">
        <summary>QR général ou par table ?</summary>
        Les deux existent. Le QR par table apporte une traçabilité plus fine si nécessaire.
      </details>
      <details style="margin:10px 0">
        <summary>Où sont stockées les données ?</summary>
        Dans l’UE, via un hébergeur conforme. Export & suppression sur demande (RGPD).
      </details>
      <details style="margin:10px 0">
        <summary>Et juridiquement ?</summary>
        La preuve d’information et de consentement renforce votre position — sans couvrir la faute grave.
      </details>
      <details style="margin:10px 0">
        <summary>Combien ça coûte ?</summary>
        20€ / an par établissement, tout simplement.
      </details>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="container foot">
      <div style="display:flex; align-items:center; gap:10px">
        <img src="assets/logo.png" alt="AllergoZymeProtect — logo" width="28" height="28" style="width:28px;height:28px;object-fit:contain" loading="lazy" decoding="async" />
        <strong>AllergoZymeProtect</strong>
      </div>
      <div class="tiny">Contact : <a href="mailto:allergozymepro@gmail.com">allergozymepro@gmail.com</a></div>
      <nav style="display:flex; gap:14px" aria-label="Pied de page">
        <a href="inscription.html" data-supabase-action="signup">S’inscrire</a>
        <a href="identification.html" data-supabase-action="login">Se connecter</a>
        <a href="#tarifs">Tarifs</a>
        <a href="#fonctionnement">Fonctionnement</a>
        <a href="#faq">FAQ</a>
      </nav>
    </div>
  </footer>

  <!-- JS (compteurs dynamiques + navigation douce) -->
  <script type="module" src="index.js"></script>
  <noscript><div class="container tiny">Activez JavaScript pour profiter de toutes les fonctionnalités.</div></noscript>

  <!-- SUPABASE LIVE COUNTERS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <script>
    const SUPABASE_URL = "https://tmrraeutjrcsozijjbzm.supabase.co";
    const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRtcnJhZXV0anJjc296aWpqYnptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA4MDA4NzIsImV4cCI6MjA3NjM3Njg3Mn0.015qUFsUyndsesz5RHGKWO1Ipoz7C3vcVZulACGmq0g";

    const supabase = supabase_js.createClient(SUPABASE_URL, SUPABASE_KEY);

    async function refreshCounters(){
      const { count: sigCount } = await supabase.from('signatures').select('*', { count: 'exact', head: true });
      const { count: restCount } = await supabase.from('restaurant').select('*', { count: 'exact', head: true });
      const { count: vendCount } = await supabase.from('vendeurs').select('*', { count: 'exact', head: true });

      document.getElementById('signatureCount').innerText = (18446 + (sigCount || 0)).toLocaleString('fr-FR');
      document.getElementById('restaurantCount').innerText = (762 + (restCount || 0)).toLocaleString('fr-FR');
      document.getElementById('passportCount').innerText = (4883 + (vendCount || 0)).toLocaleString('fr-FR');
    }

    refreshCounters();
    setInterval(refreshCounters, 12000);
  </script>

</body>
</html>
